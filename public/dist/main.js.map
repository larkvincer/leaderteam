{"version":3,"sources":["node_modules/browser-pack/_prelude.js","public/javascripts/index.js","public/javascripts/user-edit.js","public/javascripts/user-form.js","public/javascripts/user-validator.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","handleUsername","handlePassword","handleConfirmPassword","handleName","enableValidation","subscribeIfCan","node","event","callback","addEventListener","document","querySelector","console","log","firstName","lastName","removeAttribute","preventDefault","validateUsername","validatePassword","validateConfirmPassword","validateName","validateInput","validator","error","target","value","setCustomValidity","text","newError","errorBox","firstChild","removeChild","removeAllNodes","appendChild","createElement","classList","add","innerHTML","password","confirmPasswordInput","username","test","p1","p2","name"],"mappings":"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","file":"main.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","const {handleUsername, handlePassword,\n\thandleConfirmPassword, handleName} = require('./user-form');\nconst {enableValidation} = require('./user-edit');\n\ndocument.addEventListener('DOMContentLoaded', function() {\n\t// User form\n\tconst usernameInput = document.querySelector('input[name=username]');\n\tsubscribeIfCan(usernameInput, 'input', handleUsername);\n\n\tconst password = document.querySelector('input[name=password]');\n\tsubscribeIfCan(password, 'input', handlePassword);\n\n\tconst cPassword = document.querySelector('input[name=confirmPassword]');\n\tsubscribeIfCan(cPassword, 'input', handleConfirmPassword);\n\n\tconst firstName = document.querySelector('input[name=firstName]');\n\tsubscribeIfCan(firstName, 'input', handleName);\n\n\tconst lastName = document.querySelector('input[name=lastName]');\n\tsubscribeIfCan(lastName, 'input', handleName);\n\n\n\t// User edit\n\tconst editButton = document.querySelector('.edit-button');\n\tsubscribeIfCan(editButton, 'click', enableValidation);\n});\n\nfunction subscribeIfCan(node, event, callback) {\n\tif (node) {\n\t\tnode.addEventListener(event, callback);\n\t}\n};\n","exports.enableValidation = function(event) {\n\tconsole.log('huj');\n\tconst firstName = document.querySelector('input[name=firstName]');\n\tconst lastName = document.querySelector('input[name=lastName]');\n\tfirstName.removeAttribute('disabled');\n\tlastName.removeAttribute('disabled');\n\tevent.preventDefault();\n};\n","const {validateUsername, validatePassword,\n\tvalidateConfirmPassword, validateName} = require('./user-validator');\n\nexports.handleUsername = validateInput(validateUsername);\n\nexports.handlePassword = validateInput(validatePassword);\n\nexports.handleConfirmPassword = validateInput(confirmPasswordValidatorWrapper);\n\nexports.handleName = validateInput(validateName);\n\nfunction validateInput(validator) {\n\treturn function(event) {\n\t\tconst error = validator(event.target.value);\n\t\tevent.target.setCustomValidity(error || '');\n\t\tconst errorBox = document.querySelector('.errors');\n\t\tremoveAllNodes(errorBox);\n\t\tif (error) {\n\t\t\terrorBox.appendChild(createError(error));\n\t\t}\n\t};\n};\n\nfunction confirmPasswordValidatorWrapper(password) {\n\tconst confirmPasswordInput = document.querySelector(\n\t\t'input[name=password]');\n\treturn validateConfirmPassword(password,\n\t\tconfirmPasswordInput.value);\n};\n\n\nfunction removeAllNodes(node) {\n\twhile (node.firstChild) {\n\t\tnode.removeChild(node.firstChild);\n\t}\n};\n\nfunction createError(text) {\n\tconst newError = document.createElement('span');\n\tnewError.classList.add('form__error');\n\tnewError.innerHTML = text;\n\treturn newError;\n};\n\n","exports.validateUsername = function(username) {\n\tconst legalChars = /[\\w\\u0403-\\u04FF]/g;\n\n\tif (username == '') {\n\t\treturn 'Please enter username';\n\t}\n\tif ((username.length < 3) || (username.length > 15)) {\n\t\treturn 'Username must have 3-15 characters';\n\t}\n\tif (!legalChars.test(username)) {\n\t\treturn 'Use only numbers and alphabets for username';\n\t}\n};\n\nexports.validatePassword = function(password) {\n\tif (password.length < 5) {\n\t\treturn 'Password should contain at least 5 symbols';\n\t}\n};\n\nexports.validateConfirmPassword = function(p1, p2) {\n\tif (p1 !== p2) {\n\t\treturn 'Passwords should match';\n\t}\n};\n\nexports.validateName = function(name) {\n\tif (!name) {\n\t\treturn;\n\t}\n\tconst firstUpper = /^[A-Z\\u0403-\\u042F]/;\n\tif (!firstUpper.test(name)) {\n\t\treturn 'Name shoud start from capital.';\n\t}\n\tconst legalCharacters = /[A-z\\u0403-\\u04FF\\'\\-]+$/;\n\tif (!legalCharacters.test(name)) {\n\t\treturn 'Name could only contain alphabet and \\' \\-';\n\t}\n};\n\n"]}
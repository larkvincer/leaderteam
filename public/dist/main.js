!function o(u,i,s){function d(t,e){if(!i[t]){if(!u[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(l)return l(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var a=i[t]={exports:{}};u[t][0].call(a.exports,function(e){return d(u[t][1][e]||e)},a,a.exports,o,u,i,s)}return i[t].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)d(s[e]);return d}({1:[function(e,t,r){"use strict";var n=e("./user-form"),a=n.handleUsername,o=n.handlePassword,u=n.handleConfirmPassword,i=n.handleName,s=e("./user-edit").enableEditing;function d(e,t,r){e&&e.addEventListener(t,r)}document.addEventListener("DOMContentLoaded",function(){d(document.querySelector("input[name=username]"),"input",a),d(document.querySelector("input[name=password]"),"input",o),d(document.querySelector("input[name=confirmPassword]"),"input",u),d(document.querySelector("input[name=firstName]"),"input",i),d(document.querySelector("input[name=lastName]"),"input",i),d(document.querySelector(".edit-button"),"click",s)})},{"./user-edit":2,"./user-form":3}],2:[function(e,t,r){"use strict";var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=e("./user-validator");function d(){return[document.querySelector("input[name=firstName]"),document.querySelector("input[name=lastName]")]}function l(e){var t,r,n=d(),a=i(n,2),o=a[0],u=a[1];!(0,s.validateName)(o.value)&&!(0,s.validateName)(u.value)&&(t={firstName:o.value,lastName:u.value},r=document.querySelector(".username").innerHTML,fetch("/dashboard/managers/"+r,{method:"PUT",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){if(e.ok)return e.json();throw new Error("Network response failed.")}).then(function(e){if(Array.isArray(e))throw new Error(e);return e})).then(c).catch(m)}function c(e){document.querySelector(".approve-button").style.display="none",document.querySelector(".edit-button").style.display="block";var t=document.querySelector("input[name=firstName]"),r=document.querySelector("input[name=lastName]");t.setAttribute("disabled",!0),r.setAttribute("disabled",!0)}function m(e){console.log("this is errors: ",e)}r.enableEditing=function(e){var t,r,n=d(),a=i(n,2),o=a[0],u=a[1];o.removeAttribute("disabled"),u.removeAttribute("disabled"),document.querySelector(".edit-button").style.display="none",document.querySelector(".approve-button")?document.querySelector(".approve-button").style.display="block":((r=document.createElement("button")).classList.add("pure-button","button-success","approve-button"),r.innerHTML="Підтвердити",r.addEventListener("click",l),t=r,document.querySelector(".manager-container").appendChild(t)),e.preventDefault()}},{"./user-validator":4}],3:[function(e,t,r){"use strict";var n=e("./user-validator"),a=n.validateUsername,o=n.validatePassword,u=n.validateConfirmPassword,i=n.validateName;function s(o){return function(e){var t=o(e.target.value);e.target.setCustomValidity(t||"");var r,n,a=document.querySelector(".errors");!function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(a),t&&a.appendChild((r=t,(n=document.createElement("span")).classList.add("form__error"),n.innerHTML=r,n))}}r.handleUsername=s(a),r.handlePassword=s(o),r.handleConfirmPassword=s(function(e){var t=document.querySelector("input[name=password]");return u(e,t.value)}),r.handleName=s(i)},{"./user-validator":4}],4:[function(e,t,r){"use strict";r.validateUsername=function(e){return""==e?"Please enter username":e.length<3||15<e.length?"Username must have 3-15 characters":/[\w\u0403-\u04FF]/g.test(e)?void 0:"Use only numbers and alphabets for username"},r.validatePassword=function(e){if(e.length<5)return"Password should contain at least 5 symbols"},r.validateConfirmPassword=function(e,t){if(e!==t)return"Passwords should match"},r.validateName=function(e){if(e){if(!/^[A-Z\u0403-\u042F]/.test(e))return"Name shoud start from capital.";return/[A-z\u0403-\u04FF\'\-]+$/.test(e)?void 0:"Name could only contain alphabet and ' -"}}},{}]},{},[1]);
//# sourceMappingURL=main.js.map
